{"version":3,"sources":["file:///Users/naushad/SnakesAndLadder1/assets/scripts/TileScript.ts"],"names":["_decorator","Component","Node","TiledMap","Label","tween","Vec3","Prefab","instantiate","UITransform","ccclass","property","TileScript","start","tileLayer","tileMap","getLayer","tileCurrPos","getTiledTileAt","node","position","console","log","playerOne","setPosition","x","y","playerTwo","to","angle","k","i","l","ch","prefabLabel","tileNow","getComponent","string","addChild","j","tileNowRandom1","tileNowRandom2","dist","distance","chil","ladder","z","setContentSize","ang","onLoad","on","EventType","MOUSE_DOWN","movePlayer","diceNumber","Math","floor","random","getPosition","easing"],"mappings":"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","sourcesContent":["\r\nimport { _decorator, Component, Node, TiledMap, Vec2, Label, UITransformComponent, TiledTile, TiledLayer, tween, Vec3, computeRatioByType, easing, Prefab, instantiate, size, SpriteFrame, UITransform } from 'cc';\r\nconst { ccclass, property } = _decorator;\r\n\r\n/**\r\n * Predefined variables\r\n * Name = TileScript\r\n * DateTime = Wed Sep 15 2021 11:44:38 GMT+0530 (India Standard Time)\r\n * Author = alokraj0024\r\n * FileBasename = TileScript.ts\r\n * FileBasenameNoExtension = TileScript\r\n * URL = db://assets/scripts/TileScript.ts\r\n * ManualUrl = https://docs.cocos.com/creator/3.3/manual/en/\r\n */\r\n \r\n@ccclass('TileScript')\r\nexport class TileScript extends Component {\r\n    \r\n    @property(TiledMap)\r\n    tileMap : TiledMap = null;\r\n\r\n    @property(Node)\r\n    playerOne : Node = null;\r\n\r\n    @property(Node)\r\n    playerTwo : Node = null;\r\n\r\n    @property(Prefab)\r\n    prefabLabel : Prefab = null;\r\n\r\n    @property(Prefab)\r\n    snake : Prefab = null;\r\n\r\n    @property(Prefab)\r\n    ladder : Prefab = null;\r\n\r\n    tileLayer : TiledLayer = null;\r\n    tile : TiledTile = null;\r\n    tileCurrPos : Vec3 = null;\r\n    noOfSix : number = 0;\r\n    playerOneTileX : number = 0;\r\n    playerOneTileY : number = 0;\r\n    playerTwoTileX : number = 0;\r\n    playerTwoTileY : number = 0;\r\n    playerOneinitialPos : Vec3 = null;\r\n    playertwoInitialPos : Vec3 = null;\r\n\r\n    start () {\r\n        this.tileLayer = this.tileMap.getLayer('Tile Layer 1');\r\n        this.tileCurrPos = this.tileLayer.getTiledTileAt(0,9,true).node.position;\r\n        console.log('test   tttt');\r\n        console.log(this.tileCurrPos);\r\n        this.playerOne.setPosition(new Vec3(this.tileCurrPos.x+8,this.tileCurrPos.y+15,0));\r\n        this.playerTwo.setPosition(new Vec3(this.tileCurrPos.x+25,this.tileCurrPos.y+15,0));\r\n        tween(this.playerOne)\r\n            .to(1,{angle : 90})\r\n        let k = 1;\r\n        for(let i = 9;i>=0;i--)\r\n        {\r\n            if(i%2==0)\r\n            {\r\n                for(let l=9;l>=0;l--)\r\n                {\r\n                    let ch = instantiate(this.prefabLabel);\r\n                    let tileNow = this.tileLayer.getTiledTileAt(l,i,true).node.position;\r\n                    ch.getComponent(Label).string = `${k++}`;\r\n                    this.tileMap.node.addChild(ch);\r\n                    ch.setPosition(tileNow.x+10,tileNow.y-8,1);\r\n                }\r\n            }\r\n            else\r\n            {\r\n                for(let j=0;j<=9;j++)\r\n                {\r\n                    let ch = instantiate(this.prefabLabel);\r\n                    let tileNow = this.tileLayer.getTiledTileAt(j,i,true).node.position;\r\n                    ch.getComponent(Label).string = `${k++}`;\r\n                    this.tileMap.node.addChild(ch);\r\n                    ch.setPosition(tileNow.x+10,tileNow.y-8,1);\r\n                }\r\n            }\r\n        }\r\n        let tileNowRandom1 = this.tileLayer.getTiledTileAt(0,0,true).node.position;\r\n        let tileNowRandom2 = this.tileLayer.getTiledTileAt(3,3,true).node.position;\r\n        let dist = Vec3.distance(tileNowRandom1,tileNowRandom2);\r\n        console.log(dist);\r\n        let chil = instantiate(this.ladder);\r\n        this.tileMap.node.addChild(chil);\r\n        chil.setPosition(tileNowRandom1.x+50,tileNowRandom1.y-28,tileNowRandom1.z);\r\n        chil.getComponent(UITransform).setContentSize(28,dist+50);\r\n        let ang = Vec3.angle(tileNowRandom1,tileNowRandom2);\r\n        tween(chil)\r\n            .to(1,{angle : ang*100})\r\n            .start();\r\n        console.log('abc');\r\n    }\r\n\r\n    onLoad()\r\n    {\r\n        this.node.on(Node.EventType.MOUSE_DOWN, this.movePlayer,this)\r\n    }\r\n    movePlayer()\r\n    {\r\n        // Math.floor(Math.random() * (max - min + 1)) + min;\r\n        let diceNumber = Math.floor(Math.random() * (6 - 1 + 1)) + 1;\r\n        console.log(diceNumber);\r\n        // let initialPosition = nodePlayer.getPosition();\r\n        while(diceNumber > 0)\r\n        {\r\n            tween(this.playerOne)\r\n                .to(1,{position : new Vec3(this.playerOne.getPosition().x+(32*diceNumber),this.playerOne.getPosition().y+0,0)},{easing: 'sineIn'})\r\n                .start();\r\n            diceNumber = 0;\r\n            console.log('inside while loop');\r\n        }\r\n    }\r\n\r\n}"]}